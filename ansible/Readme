
Run all playbook at once
ansible-playbook -i hosts.ini mainplaybook.yml

haproxy.cfg
This configures HAProxy as a load balancer.
Make sure to update the ip and port settings in haproxy.cfg before running.
mainplaybook.yml

This installs all Kubernetes components on the master and worker nodes.

To run:
ansible-playbook -i hosts.ini --limit 'master:worker' install_kubernetes.yml
This will exclude the load balancer group.

init_kubernetes.yml
This initializes the Kubernetes cluster.
To run:
ansible-playbook -i hosts.ini --limit 'master[0]' init_kubernetes.yml
This will use the first master node in hosts.ini as the primary master and initialize the cluster.

install_haproxy.yml
This installs HAProxy on the load balancer nodes.
To run:
ansible-playbook -i hosts.ini --limit 'loadbalancer' install_haproxy.yml

set_hostname.yml
This sets the hostname of nodes.
To run:
ansible-playbook set_hostname.yml -i inventory.ini